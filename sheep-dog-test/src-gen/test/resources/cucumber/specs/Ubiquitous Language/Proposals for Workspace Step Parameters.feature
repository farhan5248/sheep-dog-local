@sheep-dog-test
Feature: Proposals for Workspace Step Parameters

  \@sheep-dog-test
  If the step definition has step parameters, they'll be proposed.

  Scenario: No existing step object

    Given The spec-prj project src/test/resources/asciidoc/specs/Process2.asciidoc file TestSuite/1/TestCase/1/TestStep node is created as follows
          | Test Step Full Name                                 |
          | The daily batchjob Input file is created as follows |
     When The xtext plugin list proposals action is performed as follows
          | Node Path                                     |
          | TestSuite/1/TestCase/1/TestStep/1/Table/Row/1 |
     Then The xtext plugin list proposals popup will be empty

  Scenario: No existing step definition

    Given The spec-prj project src/test/resources/asciidoc/specs/Process2.asciidoc file TestSuite/1/TestCase/1/TestStep node is created as follows
          | Test Step Full Name                                 |
          | The daily batchjob Input file is created as follows |
      And The spec-prj project src/test/resources/asciidoc/stepdefs/daily batchjob/Input file.asciidoc file StepObject node is created as follows
          | Step Object Name                  |
          | daily batchjob/Input file.feature |
      And The spec-prj project src/test/resources/asciidoc/stepdefs/daily batchjob/Input file.asciidoc file StepObject/1/StepDefinition node is created as follows
          | Step Definition Name |
          | is present           |
     When The xtext plugin list proposals action is performed as follows
          | Node Path                                     |
          | TestSuite/1/TestCase/1/TestStep/1/Table/Row/1 |
     Then The xtext plugin list proposals popup will be empty

  Scenario: Has existing step definition without parameters

    Given The spec-prj project src/test/resources/asciidoc/specs/Process2.asciidoc file TestSuite/1/TestCase/1/TestStep node is created as follows
          | Test Step Full Name                      |
          | The daily batchjob Input file is present |
      And The spec-prj project src/test/resources/asciidoc/stepdefs/daily batchjob/Input file.asciidoc file StepObject node is created as follows
          | Step Object Name                  |
          | daily batchjob/Input file.feature |
      And The spec-prj project src/test/resources/asciidoc/stepdefs/daily batchjob/Input file.asciidoc file StepObject/1/StepDefinition node is created as follows
          | Step Definition Name  |
          | is created as follows |
      And The spec-prj project src/test/resources/asciidoc/stepdefs/daily batchjob/Input file.asciidoc file StepObject/1/StepDefinition/1/StepParameters node is created as follows
          | Step Parameters Name |
          | H1, H2, H3           |
     When The xtext plugin list proposals action is performed as follows
          | Node Path                                     |
          | TestSuite/1/TestCase/1/TestStep/1/Table/Row/1 |
     Then The xtext plugin list proposals popup will be empty

  Scenario: Has existing step definition with parameters

    TODO I should add more parameter combinations to describe this better.

    Given The spec-prj project src/test/resources/asciidoc/specs/Process2.asciidoc file TestSuite/1/TestCase/1/TestStep node is created as follows
          | Test Step Full Name                                 |
          | The daily batchjob Input file is created as follows |
      And The spec-prj project src/test/resources/asciidoc/stepdefs/daily batchjob/Input file.asciidoc file StepObject node is created as follows
          | Step Object Name                  |
          | daily batchjob/Input file.feature |
      And The spec-prj project src/test/resources/asciidoc/stepdefs/daily batchjob/Input file.asciidoc file StepObject/1/StepDefinition node is created as follows
          | Step Definition Name  |
          | is created as follows |
      And The spec-prj project src/test/resources/asciidoc/stepdefs/daily batchjob/Input file.asciidoc file StepObject/1/StepDefinition/1/StepParameters node is created as follows
          | Step Parameters Name | Step Parameters Description  |
          | H1, H2, H3           | Header parameters for tables |
     When The xtext plugin list proposals action is performed as follows
          | Node Path                                     |
          | TestSuite/1/TestCase/1/TestStep/1/Table/Row/1 |
     Then The xtext plugin list proposals popup will be set as follows
          | Proposal Value | Proposal Id | Proposal Description         |
          | H1, H2, H3     | H1, H2, H3  | Header parameters for tables |

  Scenario: Has existing step definition with Content parameter

    Content parameters shouldn't be proposed as they are for text blocks, not table rows.

    Given The spec-prj project src/test/resources/asciidoc/specs/Process2.asciidoc file TestSuite/1/TestCase/1/TestStep node is created as follows
          | Test Step Full Name                                 |
          | The daily batchjob Input file is created as follows |
      And The spec-prj project src/test/resources/asciidoc/stepdefs/daily batchjob/Input file.asciidoc file StepObject node is created as follows
          | Step Object Name                  |
          | daily batchjob/Input file.feature |
      And The spec-prj project src/test/resources/asciidoc/stepdefs/daily batchjob/Input file.asciidoc file StepObject/1/StepDefinition node is created as follows
          | Step Definition Name  |
          | is created as follows |
      And The spec-prj project src/test/resources/asciidoc/stepdefs/daily batchjob/Input file.asciidoc file StepObject/1/StepDefinition/1/StepParameters node is created as follows
          | Step Parameters Name |
          | Content              |
     When The xtext plugin list proposals action is performed as follows
          | Node Path                                     |
          | TestSuite/1/TestCase/1/TestStep/1/Table/Row/1 |
     Then The xtext plugin list proposals popup will be empty

