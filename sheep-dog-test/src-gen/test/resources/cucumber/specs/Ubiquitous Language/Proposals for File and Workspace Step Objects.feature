@sheep-dog-test
Feature: Proposals for File and Workspace Step Objects

  \@sheep-dog-test
  TODO Add more background tests
  The general idea behind these tests is that when no object is specified in the test step, you get a list of proposals.
  The variables are:
  1. Component: There's no suggestions if there's no component.
  2. Component Object: If there's a component, propose objects that it has.
  3. Previous Object in Test Case: If there's a previous object, propose both just the name and the long form name
  4. Test Setup: The test setup section is checked if it has a component or object specified.

  Scenario: No component has existing

    It should show that if there's objects from more than one component, it only picks the matching component

    Given The spec-prj project src/test/resources/asciidoc/specs/Process2.asciidoc file TestSuite/1/TestCase/1/TestStep node is created as follows
          | Test Step Full Name                       |
          | The daily batchjob Output file is present |
          | empty                                     |
      And The spec-prj project src/test/resources/asciidoc/stepdefs/daily batchjob/Input file.asciidoc file StepObject node is created as follows
          | Step Object Name                  | Step Definition Name |
          | daily batchjob/Input file.feature | is present           |
     When The xtext plugin list proposals action is performed as follows
          | Node Path                         |
          | TestSuite/1/TestCase/1/TestStep/2 |
     Then The xtext plugin list proposals popup will be set as follows
          | Proposal Value                 | Proposal Id                |
          | The Output file                | Output file                |
          | The daily batchjob Output file | daily batchjob/Output file |
          | The daily batchjob Input file  | Input file                 |

  Scenario: Has component has existing

    Given The spec-prj project src/test/resources/asciidoc/specs/Process2.asciidoc file TestSuite/1/TestCase/1/TestStep node is created as follows
          | Test Step Full Name                       |
          | The daily batchjob Output file is present |
          | The daily batchjob                        |
      And The spec-prj project src/test/resources/asciidoc/stepdefs/daily batchjob/Input file.asciidoc file StepObject node is created as follows
          | Step Object Name                  | Step Definition Name |
          | daily batchjob/Input file.feature | is present           |
     When The xtext plugin list proposals action is performed as follows
          | Node Path                         |
          | TestSuite/1/TestCase/1/TestStep/2 |
     Then The xtext plugin list proposals popup will be set as follows
          | Proposal Value                 | Proposal Id                |
          | The Output file                | Output file                |
          | The daily batchjob Output file | daily batchjob/Output file |
          | The daily batchjob Input file  | Input file                 |

