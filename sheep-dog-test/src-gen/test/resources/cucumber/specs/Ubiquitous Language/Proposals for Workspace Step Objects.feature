@sheep-dog-test
Feature: Proposals for Workspace Step Objects

  \@sheep-dog-test
  TODO Collapse all these tests into fewer ones using Test Data
  The general idea behind these tests is that when no object is specified in the test step, you get a list of proposals.
  The variables are:
  1. Component: There's no suggestions if there's no component.
  2. Component Object: If there's a component, propose objects that it has.
  3. Previous Object in Test Case: If there's a previous object with the fully qualified name, then only the name is suggested
  4. Test Setup: The test setup section is checked if it has a component or object specified.

  Scenario: No component no existing

    TODO make this an outline with various steps like "The" or "The batchjob" etc

    Given The spec-prj project src/test/resources/asciidoc/specs/Process2.asciidoc file TestSuite/1/TestCase/1/TestStep node is created as follows
          | Test Step Full Name |
          | empty               |
     When The xtext plugin list proposals action is performed as follows
          | Node Path                         |
          | TestSuite/1/TestCase/1/TestStep/1 |
     Then The xtext plugin list proposals popup will be empty

  Scenario: No component has existing

    Given The spec-prj project src/test/resources/asciidoc/specs/Process2.asciidoc file TestSuite/1/TestCase/1/TestStep node is created as follows
          | Test Step Full Name |
          | empty               |
      And The spec-prj project src/test/resources/asciidoc/stepdefs/daily batchjob/Input file.asciidoc file StepObject node is created as follows
          | Step Object Name                  | Step Object Description | Step Definition Name |
          | daily batchjob/Input file.feature | Description             | is present           |
     When The xtext plugin list proposals action is performed as follows
          | Node Path                         |
          | TestSuite/1/TestCase/1/TestStep/1 |
     Then The xtext plugin list proposals popup will be set as follows
          | Proposal Value                | Proposal Id | Proposal Description |
          | The daily batchjob Input file | Input file  | Description          |

  Scenario: Has component no existing

    Given The spec-prj project src/test/resources/asciidoc/specs/Process2.asciidoc file TestSuite/1/TestCase/1/TestStep node is created as follows
          | Test Step Full Name |
          | The daily batchjob  |
     When The xtext plugin list proposals action is performed as follows
          | Node Path                         |
          | TestSuite/1/TestCase/1/TestStep/1 |
     Then The xtext plugin list proposals popup will be empty

  Scenario: Has component has existing

    Given The spec-prj project src/test/resources/asciidoc/specs/Process2.asciidoc file TestSuite/1/TestCase/1/TestStep node is created as follows
          | Test Step Full Name |
          | The daily batchjob  |
      And The spec-prj project src/test/resources/asciidoc/stepdefs/daily batchjob/Input file.asciidoc file StepObject node is created as follows
          | Step Object Name                  | Step Object Description | Step Definition Name |
          | daily batchjob/Input file.feature | Description             | is present           |
     When The xtext plugin list proposals action is performed as follows
          | Node Path                         |
          | TestSuite/1/TestCase/1/TestStep/1 |
     Then The xtext plugin list proposals popup will be set as follows
          | Proposal Value                | Proposal Id | Proposal Description |
          | The daily batchjob Input file | Input file  | Description          |

